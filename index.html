<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trivial Grid</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f8fafc;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      color: #1e293b;
    }

    .container {
      max-width: 500px;
      width: 100%;
    }

    header {
      text-align: center;
      margin-bottom: 32px;
    }

    h1 {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #64748b;
      font-size: 0.95rem;
      font-weight: 500;
    }

    .game-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 32px 28px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 28px;
      padding-bottom: 16px;
      border-bottom: 1px solid #e2e8f0;
    }

    .stat {
      text-align: center;
    }

    .stat-label {
      font-size: 0.75rem;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .stat-value {
      font-size: 1.25rem;
      font-weight: 700;
      color: #1e293b;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 12px;
      margin-bottom: 28px;
    }

    .row {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .category-label {
      font-size: 0.7rem;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-weight: 700;
      padding: 4px 8px;
      background: #f1f5f9;
      border-radius: 6px;
      align-self: flex-start;
      width: fit-content;
    }

    .question-row {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 8px;
    }

    .option {
      height: 68px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: 600;
      text-align: center;
      padding: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      background: #ffffff;
      line-height: 1.3;
      position: relative;
      overflow: hidden;
    }

    .option::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .option:hover:not(.correct):not(.incorrect):not(.locked)::before {
      opacity: 1;
    }

    .option:hover:not(.correct):not(.incorrect):not(.locked) {
      border-color: #6366f1;
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.15);
    }

    .option.correct {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      border-color: #10b981;
      cursor: default;
    }

    .option.incorrect {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
      border-color: #ef4444;
    }

    .option.locked {
      cursor: default;
      opacity: 0.7;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      75% { transform: translateX(3px); }
    }

    .shake {
      animation: shake 0.3s ease-in-out;
    }

    .reset-btn {
      width: 100%;
      height: 52px;
      border: none;
      border-radius: 16px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: white;
      font-size: 1rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .reset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(99, 102, 241, 0.4);
    }

    .footer {
      text-align: center;
      margin-top: 24px;
      color: #64748b;
      font-size: 0.8rem;
    }

    @media (max-width: 480px) {
      .container {
        padding: 12px;
      }
      
      .game-card {
        padding: 24px 20px;
      }
      
      .option {
        height: 60px;
        font-size: 0.8rem;
      }
      
      h1 {
        font-size: 1.75rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Trivial Grid</h1>
      <div class="subtitle">Cultura general espaÃ±ola</div>
    </header>

    <div class="game-card">
      <div class="stats">
        <div class="stat">
          <div class="stat-label">Intentos</div>
          <div class="stat-value" id="attempts">0</div>
        </div>
        <div class="stat">
          <div class="stat-label">Progreso</div>
          <div class="stat-value" id="progress">0/6</div>
        </div>
      </div>

      <div class="grid" id="grid"></div>
      
      <button class="reset-btn" onclick="resetGame()">Nueva Partida</button>
    </div>

    <div class="footer">
      <p>VersiÃ³n Beta Â· Â© 2025 Trivial Grid</p>
    </div>
  </div>

  <script>
    const trivialQuestions = {
      'GeografÃ­a': [
        { q: 'Â¿Capital de EspaÃ±a?', options: ['Barcelona', 'Madrid', 'Valencia'], correct: 1 },
        { q: 'Â¿RÃ­o de Zaragoza?', options: ['Tajo', 'Ebro', 'Guadalquivir'], correct: 1 },
        { q: 'Â¿Comunidades autÃ³nomas?', options: ['15', '17', '19'], correct: 1 },
        { q: 'Â¿Alhambra estÃ¡ en?', options: ['CÃ³rdoba', 'Granada', 'Sevilla'], correct: 1 }
      ],
      'Entretenimiento': [
        { q: '"El Laberinto del Fauno"?', options: ['AlmodÃ³var', 'Del Toro', 'AmenÃ¡bar'], correct: 1 },
        { q: '"MediterrÃ¡neo" cantÃ³?', options: ['Sabina', 'Serrat', 'Iglesias'], correct: 1 },
        { q: 'Festival de Cine?', options: ['Bilbao', 'San SebastiÃ¡n', 'Pamplona'], correct: 1 }
      ],
      'Historia': [
        { q: 'Â¿Descubrimiento AmÃ©rica?', options: ['1492', '1512', '1488'], correct: 0 },
        { q: 'Â¿Fin Guerra Civil?', options: ['1939', '1945', '1936'], correct: 0 },
        { q: 'Â¿Reyes CatÃ³licos?', options: ['Carlos I', 'Fernando e Isabel', 'Felipe II'], correct: 1 }
      ],
      'Arte y Literatura': [
        { q: '"Don Quijote" escribiÃ³?', options: ['Lope de Vega', 'Cervantes', 'GÃ³ngora'], correct: 1 },
        { q: '"Las Meninas" pintÃ³?', options: ['Goya', 'VelÃ¡zquez', 'El Greco'], correct: 1 },
        { q: '"Guernica" es de?', options: ['DalÃ­', 'Picasso', 'MirÃ³'], correct: 1 }
      ],
      'Ciencias': [
        { q: 'Â¿Planeta mÃ¡s grande?', options: ['Saturno', 'JÃºpiter', 'Urano'], correct: 1 },
        { q: 'Â¿Huesos humanos?', options: ['206', '180', '250'], correct: 0 },
        { q: 'Â¿Gas fotosÃ­ntesis?', options: ['OxÃ­geno', 'COâ‚‚', 'NitrÃ³geno'], correct: 1 }
      ],
      'Deportes': [
        { q: 'Â¿Mundial EspaÃ±a?', options: ['2006', '2010', '2014'], correct: 1 },
        { q: 'Â¿MÃ¡s Grand Slams?', options: ['Alcaraz', 'Nadal', 'Ferrero'], correct: 1 },
        { q: 'Â¿Juegos 1992?', options: ['Madrid', 'Barcelona', 'Sevilla'], correct: 1 }
      ]
    };

    const categories = Object.keys(trivialQuestions);
    let gameState = {
      attempts: 0,
      correctAnswers: new Set(),
      currentRound: {}
    };

    function initGrid() {
      const grid = document.getElementById('grid');
      grid.innerHTML = '';

      categories.forEach((cat, catIndex) => {
        const row = document.createElement('div');
        row.className = 'row';

        const label = document.createElement('div');
        label.className = 'category-label';
        label.textContent = cat;
        row.appendChild(label);

        const questionRow = document.createElement('div');
        questionRow.className = 'question-row';
        questionRow.dataset.category = catIndex;

        for (let i = 0; i < 3; i++) {
          const option = document.createElement('div');
          option.className = 'option';
          option.dataset.option = i;
          questionRow.appendChild(option);
        }

        row.appendChild(questionRow);
        grid.appendChild(row);
      });

      startNewRound();
      renderGrid();
      attachListeners();
      updateStats();
    }

    function startNewRound() {
      gameState.currentRound = {};
      categories.forEach((cat, catIndex) => {
        if (!gameState.correctAnswers.has(catIndex)) {
          const questions = trivialQuestions[cat];
          gameState.currentRound[catIndex] = questions[Math.floor(Math.random() * questions.length)];
        }
      });
    }

    function renderGrid() {
      categories.forEach((cat, catIndex) => {
        const questionRow = document.querySelector(`[data-category="${catIndex}"]`);
        const options = questionRow.querySelectorAll('.option');
        const questionData = gameState.currentRound[catIndex];

        if (gameState.correctAnswers.has(catIndex)) {
          options.forEach((opt, i) => {
            opt.className = 'option correct locked';
            opt.textContent = 'âœ“';
          });
          return;
        }

        options.forEach((opt, i) => {
          opt.className = 'option';
          opt.textContent = questionData.options[i];
          opt.dataset.option = i;
        });
      });
    }

    function attachListeners() {
      document.querySelectorAll('.option').forEach(option => {
        option.onclick = function() {
          const questionRow = this.closest('[data-category]');
          const catIndex = parseInt(questionRow.dataset.category);
          const optIndex = parseInt(this.dataset.option);
          handleAnswer(catIndex, optIndex, this);
        };
      });
    }

    function handleAnswer(catIndex, optionIndex, clickedElement) {
      if (gameState.correctAnswers.has(catIndex)) return;

      const questionData = gameState.currentRound[catIndex];
      const correctIndex = questionData.correct;

      gameState.attempts++;
      updateStats();

      const questionRow = clickedElement.closest('[data-category]');
      const options = questionRow.querySelectorAll('.option');

      if (optionIndex === correctIndex) {
        gameState.correctAnswers.add(catIndex);
        options.forEach(opt => {
          opt.classList.add('correct', 'locked');
          opt.textContent = 'âœ“';
        });

        if (gameState.correctAnswers.size === categories.length) {
          setTimeout(() => alert(`ðŸŽ‰ Â¡COMPLETADO!\n${gameState.attempts} intentos`), 400);
        }
      } else {
        clickedElement.classList.add('incorrect', 'shake');
        setTimeout(() => clickedElement.classList.remove('shake'), 300);
      }
    }

    function updateStats() {
      document.getElementById('attempts').textContent = gameState.attempts;
      document.getElementById('progress').textContent = `${gameState.correctAnswers.size}/6`;
    }

    function resetGame() {
      gameState = { attempts: 0, correctAnswers: new Set(), currentRound: {} };
      initGrid();
    }

    initGrid();
  </script>
</body>
</html>
